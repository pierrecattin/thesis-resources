{
    "collab_server" : "",
    "contents" : "#' Combine FOrecasts (WIP)\n#' Combine forecasts of various classifiers into one single forecast\n#'\n#' @param x: matrix where each line is an observation, and each colum contains the probability that the class is \"positive \"up\" estimated by one model. Colnames are the name of the models.\n#' @param y: vector of true classes\n#'\n#' @return\n#' @export list containing vector of combined probs and named numerics of coefficients\n#'\n#'\ncombine.forecasts <- function(x, y){\n  stopifnot(nrow(x) == length(y))\n  data <- cbind(y, x)\n  data <- data.frame(data)\n  colnames(data)<-c(\"y\", colnames(x))\n  prior <- rep(0.5,2)\n  lda.fit <- lda(y~., data=data, prior=prior)\n  probs <- predict(lda.fit, newdata=data.frame(x))$posterior[,2:1]\n  # yhat <- (probs[,1]>=0.5)*2-1; sum(yhat!=y)/length(y)\n  coeffs <- lda.fit$scaling\n  scores <- x %*% matrix(coeffs, ncol=1)\n  plot(scores, probs[,1])\n\n  head(probs)\n\n}\n\n\nx<- matrix(rnorm(10000*4), ncol=4)\ny <- ((x[,1]+2*x[,2]-x[,3]-4*x[,4])>0)*2-1\n#y <- ((x[,1])>0)*2-1\ncolnames(x)<-paste0(\"model_\",1:ncol(x))\nplot(y, x[,1])\n\nhead(log(1.657558*x))\nhead(probs)\n",
    "created" : 1528214592158.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "865620430",
    "id" : "2DBDCFC1",
    "lastKnownWriteTime" : 1528275136,
    "last_content_update" : 1528275136376,
    "path" : "C:/Users/catti/Google Drive/Thesis/data_analysis/packages/thesis.resources/R/combine.forecasts.R",
    "project_path" : "R/combine.forecasts.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}